# 如何使用

本文将介绍在安装完成**MetaMystia**后，您在游戏中应如何进行基本操作与联机。本说明不需要任何开发或Mod相关经验，只需按照提示操作即可。

## 游戏内快捷键

在正常游玩过程中，MetaMystia提供了一些额外的快捷操作，用于查看信息和进行联机控制。

- **按下<kbd>\\</kbd>键**：显示或隐藏左下角的控制信息提示。

该提示主要用于确认Mod是否正常运行，以及当前联机相关的状态信息。

## 游戏内控制台

MetaMystia内置了一个**游戏内控制台**，用于输入联机相关指令。

### 打开与关闭方式

- **按<kbd>/</kbd>键**：打开游戏内控制台
- **按<kbd>Enter</kbd>键**：提交当前输入的命令
- **按<kbd>ESC</kbd>键**：关闭控制台

控制台仅在游戏运行时可用，不会影响正常的游戏操作。

## 常用联机命令

在控制台中，您可以使用以下常见的联机指令：

- `/mp start server`启动联机服务（作为房主使用）
- `/mp stop`停止当前联机服务
- `/mp connect <IP地址>`连接到指定IP地址的联机房间（请将`<IP地址>`替换为房主的实际IP）
- `/mp disconnect`断开当前连接
- `/mp status`查看当前联机状态

如果您不确定可以使用哪些命令，可以输入：

- `/help`查看所有可用指令及其说明

## 联机方式与网络要求说明

MetaMystia当前使用的是**P2P（点对点）联机方式**，即玩家之间**直接建立连接**，不经过官方服务器，不支持本地同屏。因此，在联机前需要注意以下网络条件：

- **双方在同一局域网（如同一Wi-Fi）**

    可直接使用房主的局域网IP进行连接。

- **不在同一局域网时**

    可以使用**Tailscale**、**ZeroTier**等虚拟局域网工具，让双方处于“看起来像同一局域网”的环境中，再使用对应的虚拟IP进行连接。

- **双方都有公网IP**

    可以直接使用房主的公网IP进行连接（对网络环境要求较高，不推荐新手优先尝试）。

### 连接超时或无法连接时的排查建议

如果在执行`/mp connect`后出现**连接超时或无法连接**的情况，请优先检查：

- 输入的IP地址是否正确
- 房主是否已经成功执行`/mp start server`
- **防火墙**是否阻止了游戏的网络通信
  （可尝试临时关闭防火墙，或为游戏添加放行规则）

## 使用建议

- 建议在进入游戏主流程前，先确认联机状态是否正常
- 如果遇到无法连接、指令无响应或异常报错的情况，可以先查看`/mp status`的输出信息
- 首次使用联机功能时，建议由一名玩家先作为房主进行测试

## 获取帮助

如果在使用MetaMystia的过程中遇到问题、报错，或不确定操作是否正确，可以通过以下方式获取帮助：

- 加入QQ群：**1034953242**

在提问时，建议说明或提供：

- 使用的游戏及Mod版本、游戏DLC状态
- 执行过的命令及复现步骤
- 控制台中显示的错误信息（如有）
- 日志文件（位于`游戏根目录/BepInEx/LogOutput.log`）

---

完成以上步骤后，您就可以和朋友一起体验联机版的《东方夜雀食堂》了。
